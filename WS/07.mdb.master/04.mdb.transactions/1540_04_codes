Console1:

CREATE TABLE t1 (a INT PRIMARY KEY, b INT UNIQUE) ENGINE = InnoDB;
CREATE TABLE t2 (a INT PRIMARY KEY, b INT UNIQUE) ENGINE = InnoDB;
INSERT INTO t1 VALUES (1, 1);
INSERT INTO t2 VALUES (1, 1);
START TRANSACTION;
SELECT * FROM t1 WHERE b = 1 FOR UPDATE;

Console2:

START TRANSACTION;
SELECT * FROM t2 WHERE b = 1 FOR UPDATE;

Console1:

SELECT * FROM t2 WHERE b = 1 FOR UPDATE;

Console2:

SELECT * FROM t1 WHERE b = 1 FOR UPDATE;

(note that an error is expected after the last query!)

